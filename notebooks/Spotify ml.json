{"paragraphs":[{"text":"import requests\nimport json\nimport base64\nimport pandas as pd","user":"anonymous","dateUpdated":"2017-05-15T14:01:31-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1494471604445_504990757","id":"20170510-200004_670998408","dateCreated":"2017-05-10T20:00:04-0700","dateStarted":"2017-05-15T14:01:31-0700","dateFinished":"2017-05-15T14:01:33-0700","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:314"},{"text":"# Get an access token\nTOKEN_URL = \"https://accounts.spotify.com/api/token\"\nCLIENT_ID = \"fa7e7c8d114a487c81a31a32dd0c0ef5\"\nCLIENT_SECRET = \"7df74727c0a846b1ba7bf042f9421f6c\"\nDATA = {\"grant_type\":\"client_credentials\"}\nHEADER_64_STRING = base64.b64encode(bytes(CLIENT_ID+\":\"+CLIENT_SECRET), 'utf-8')\nHEADERS = {\"Authorization\":\"Basic \"+HEADER_64_STRING}\nresponse = requests.post(TOKEN_URL, data=DATA, headers=HEADERS)\naccess_token = response.json()['access_token']","user":"anonymous","dateUpdated":"2017-05-15T14:01:33-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1494471800890_-1049719896","id":"20170510-200320_1035052814","dateCreated":"2017-05-10T20:03:20-0700","dateStarted":"2017-05-15T14:01:33-0700","dateFinished":"2017-05-15T14:01:34-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:315"},{"text":"# Request featured playlists\naccess_headers = {\"Authorization\":\"Bearer \"+access_token}\nfeaturedPlaylistsResponse = requests.get(\"https://api.spotify.com/v1/browse/featured-playlists\", headers=access_headers)","user":"anonymous","dateUpdated":"2017-05-15T14:01:35-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1494471808183_2147005473","id":"20170510-200328_1798121557","dateCreated":"2017-05-10T20:03:28-0700","dateStarted":"2017-05-15T14:01:35-0700","dateFinished":"2017-05-15T14:01:35-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:316"},{"text":"# Convert to dataframe\ndf = pd.DataFrame(featuredPlaylistsResponse.json()[\"playlists\"][\"items\"])","user":"anonymous","dateUpdated":"2017-05-15T14:09:37-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1494473600718_-812540551","id":"20170510-203320_2123035668","dateCreated":"2017-05-10T20:33:20-0700","dateStarted":"2017-05-15T14:09:37-0700","dateFinished":"2017-05-15T14:09:37-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:317"},{"text":"# Get a list of tracks in each playlist, then add a list of their links to a new column\nfor index, row in df.iterrows():\n    tracks = requests.get(row['href']+'/tracks', headers=access_headers)\n    #df.iloc[[index]]['trackslist'] = 5\n    #df.iloc[[index]]['trackslist'] \n    row['trackslist'] = [ item['track']['href'] for item in tracks.json()['items'] ]\n    df.iloc[index] = row\n    #type([ item['track']['href'] for item in tracks.json()['items'] ])\n    \n#df.iloc[[0]].setdefault('trackslist', []).append(5)\n","user":"anonymous","dateUpdated":"2017-05-15T14:37:14-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1494869203628_931027248","id":"20170515-102643_41927189","dateCreated":"2017-05-15T10:26:43-0700","dateStarted":"2017-05-15T14:37:14-0700","dateFinished":"2017-05-15T14:37:20-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:318"},{"text":"with pd.option_context('display.max_rows', None, 'display.max_columns', 3):\n    print(df.iloc[[0]]['trackslist'])","user":"anonymous","dateUpdated":"2017-05-15T18:07:28-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"ERROR","msg":[{"type":"TEXT","data":"Traceback (most recent call last):\n  File \"/tmp/zeppelin_python-3605917498127060274.py\", line 278, in <module>\n    raise Exception(traceback.format_exc())\nException: Traceback (most recent call last):\n  File \"/tmp/zeppelin_python-3605917498127060274.py\", line 271, in <module>\n    exec(code)\n  File \"<stdin>\", line 1, in <module>\n  File \"/Library/Python/2.7/site-packages/pandas/core/generic.py\", line 2970, in __getattr__\n    return object.__getattribute__(self, name)\nAttributeError: 'Series' object has no attribute 'length'\n\n"}]},"apps":[],"jobName":"paragraph_1494876919080_262763784","id":"20170515-123519_209711789","dateCreated":"2017-05-15T12:35:19-0700","dateStarted":"2017-05-15T14:40:59-0700","dateFinished":"2017-05-15T14:40:59-0700","status":"ERROR","progressUpdateIntervalMs":500,"$$hashKey":"object:319"},{"user":"anonymous","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1494877277330_1001373282","id":"20170515-124117_89849374","dateCreated":"2017-05-15T12:41:17-0700","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:320"}],"name":"Spotify ml","id":"2CF6NR72Z","angularObjects":{"2CEXNBUU3:shared_process":[],"2CGV5XDJB:shared_process":[],"2CECT9V36:shared_process":[],"2CHD36B5D:shared_process":[],"2CDFS4NCK:shared_process":[],"2CDHJ34X1:shared_process":[],"2CEJ14NBE:shared_process":[],"2CDWY6TY9:shared_process":[],"2CEKFQ7V9:shared_process":[],"2CEPZ8KU7:shared_process":[],"2CH296VYE:shared_process":[],"2CFWKSAZQ:shared_process":[],"2CFJ49ZQS:shared_process":[],"2CH5E14MC:shared_process":[],"2CESJG15P:shared_process":[],"2CE386NS5:shared_process":[],"2CH3V2MS4:shared_process":[],"2CG5PF51E:shared_process":[],"2CHABJCFB:shared_process":[]},"config":{"looknfeel":"default","personalizedMode":"false"},"info":{}}